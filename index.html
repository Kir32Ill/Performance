<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Яндекс.Дом</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="styles.css">
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        "use strict";
        const app = document.getElementById('app');
        const tabsContent = {
            all: [...Array(256)].map((_,i) => 
                `<li class="event">
                    <button class="event__button">
                        <span class="event__icon event__icon_${i%2?'light':'light2'}" aria-label="Освещение"></span>
                        <h4 class="event__title">Устройство ${i+1}</h4>
                        <span class="event__subtitle">${i%3?'Включено':'Выключено'}</span>
                    </button>
                </li>`
            ).join(''),
            kitchen: [...Array(2)].map((_,i) => 
                `<li class="event">
                    <button class="event__button">
                        <span class="event__icon event__icon_${i?'temp':'light2'}" aria-label="${i?'Температура':'Освещение'}"></span>
                        <h4 class="event__title">${i?'Elgato Eve':'Xiaomi Yeelight'}</h4>
                        <span class="event__subtitle">${i?'Выключено':'Включено'}</span>
                    </button>
                </li>`
            ).join(''),
            hall: [...Array(2)].map((_,i) => 
                `<li class="event">
                    <button class="event__button">
                        <span class="event__icon event__icon_${i?'light2':'light'}" aria-label="Освещение"></span>
                        <h4 class="event__title">${i?'Xiaomi Air':'Philips Zhirui'}</h4>
                        <span class="event__subtitle">Выключено</span>
                    </button>
                </li>`
            ).join('')
        };

        app.innerHTML = `
            <header class="header">
                <a href="/" class="header__logo" aria-label="Яндекс.Дом"></a>
                <button class="header__menu" aria-expanded="false">
                    <span class="header__menu-text a11y-hidden">Меню</span>
                </button>
                <ul class="header__links">
                    <li class="header__item"><a href="/" class="header__link header__link_current" aria-current="page">Сводка</a></li>
                    <li class="header__item"><a href="/devices" class="header__link">Устройства</a></li>
                    <li class="header__item"><a href="/scripts" class="header__link">Сценарии</a></li>
                </ul>
            </header>
            <main class="main">
                <section class="section main__general">
                    <h2 class="section__title section__title-header section__main-title">Главное</h2>
                    <div class="hero-dashboard">
                        <div class="hero-dashboard__primary">
                            <h3 class="hero-dashboard__title">Привет, Геннадий!</h3>
                            <p class="hero-dashboard__subtitle">Двери и окна закрыты, сигнализация включена.</p>
                            <ul class="hero-dashboard__info">
                                <li class="hero-dashboard__item">
                                    <div class="hero-dashboard__item-title">Дома</div>
                                    <div class="hero-dashboard__item-details">+23<span class="a11y-hidden">°</span></div>
                                </li>
                                <li class="hero-dashboard__item">
                                    <div class="hero-dashboard__item-title">За окном</div>
                                    <div class="hero-dashboard__item-details">
                                        +19<span class="a11y-hidden">°</span>
                                        <div class="hero-dashboard__icon hero-dashboard__icon_rain" aria-label="Дождь"></div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <ul class="hero-dashboard__schedule">
                            <li class="event">
                                <button class="event__button">
                                    <span class="event__icon event__icon_temp" aria-label="Температура"></span>
                                    <h4 class="event__title">Philips Cooler</h4>
                                    <span class="event__subtitle">Начнет охлаждать в 16:30</span>
                                </button>
                            </li>
                            <li class="event">
                                <button class="event__button">
                                    <span class="event__icon event__icon_light" aria-label="Освещение"></span>
                                    <h4 class="event__title">Xiaomi Yeelight</h4>
                                    <span class="event__subtitle">Включится в 17:00</span>
                                </button>
                            </li>
                        </ul>
                    </div>
                </section>
                <section class="section main__scripts">
                    <h2 class="section__title section__title-header">Избранные сценарии</h2>
                    <ul class="event-grid">
                        ${[...Array(5)].map((_,i) => `
                            <li class="event event_slim">
                                <button class="event__button">
                                    <span class="event__icon event__icon_${i<2?'light2':i<3?'schedule':'temp2'}" 
                                          aria-label="${i<2?'Освещение':i<3?'Расписание':'Температура'}"></span>
                                    <h4 class="event__title">${
                                        i===0?'Выключить весь свет':
                                        i===1?'Я ухожу':
                                        i===2?'Включить свет':
                                        i===3?'Набрать ванну':
                                        'Тёплый пол'
                                    }</h4>
                                    ${i===3?'<span class="event__subtitle">Начнётся в 18:00</span>':''}
                                </button>
                            </li>
                        `).join('')}
                    </ul>
                </section>
                <section class="section main__devices">
                    <div class="section__title">
                        <h2 class="section__title-header">Избранные устройства</h2>
                        <select class="section__select">
                            <option value="all">Все</option>
                            <option value="kitchen">Кухня</option>
                            <option value="hall">Зал</option>
                        </select>
                        <ul class="section__tabs" role="tablist">
                            <li class="section__tab section__tab_active" role="tab" data-tab="all">Все</li>
                            <li class="section__tab" role="tab" data-tab="kitchen">Кухня</li>
                            <li class="section__tab" role="tab" data-tab="hall">Зал</li>
                        </ul>
                    </div>
                    <div class="section__panel-wrapper">
                        <div class="section__panel">
                            <ul class="section__panel-list">${tabsContent.all}</ul>
                        </div>
                        <div class="section__panel section__panel_hidden">
                            <ul class="section__panel-list">${tabsContent.kitchen}</ul>
                        </div>
                        <div class="section__panel section__panel_hidden">
                            <ul class="section__panel-list">${tabsContent.hall}</ul>
                        </div>
                    </div>
                </section>
            </main>
        `;
        document.querySelector('.header__menu').addEventListener('click', function() {
            const expanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !expanded);
            document.querySelector('.header__links').classList.toggle('header__links_opened');
        });

        document.querySelectorAll('.section__tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.dataset.tab;
                document.querySelectorAll('.section__tab').forEach(t => 
                    t.classList.toggle('section__tab_active', t === this)
                );
                document.querySelector('.section__select').value = tabName;
                document.querySelectorAll('.section__panel').forEach((panel, i) => 
                    panel.classList.toggle('section__panel_hidden', 
                        panel.querySelector('ul').innerHTML !== tabsContent[tabName])
                );
            });
        });

        document.querySelector('.section__select').addEventListener('change', function() {
            const tabName = this.value;
            document.querySelectorAll('.section__tab').forEach(tab => 
                tab.classList.toggle('section__tab_active', tab.dataset.tab === tabName)
            );
            document.querySelectorAll('.section__panel').forEach((panel, i) => 
                panel.classList.toggle('section__panel_hidden', 
                    panel.querySelector('ul').innerHTML !== tabsContent[tabName])
            );
        });
    });
    </script>
</head>
<body>
    <div id="app"></div>
    <footer class="footer">
        <ul class="footer__list">
            <li><a class="footer__link" href="/">Помощь</a></li>
            <li><a class="footer__link" href="/">Обратная связь</a></li>
            <li><a class="footer__link" href="/">Разработчикам</a></li>
            <li><a class="footer__link" href="/">Условия использования</a></li>
        </ul>
        <div class="footer__copyright">© 1997–2023 ООО «Яндекс»</div>
    </footer>
</body>
</html>